<div class="panel panel-{{ flux.style || 'default'}} col-fluid-cell" id="id-{{ flux.flux.id }}">
  <div class="panel-heading">

    <a href="{{ flux.flux.site.url }}" target="_blank">{{ flux.flux.name }}</a>
    <div class="pull-right">
      <a class="material-icons rotate">refresh</a>
      <a href="{{ flux.flux.url }}" target="_blank" class="material-icons">rss_feed</a>

      <span dropdown>
        <a class="material-icons" dropdownToggle #bsDropdownToggle="bs-dropdown-toggle">settings</a>
        <form (ngSubmit)="submit()" [formGroup]="form" *dropdownMenu (click)="onEvent($event)"
              class="dropdown-menu dropdown-menu-right form-horizontal">

          <div class="form-group">
            <label for="desc_{{ flux.flux.id }}" class="control-label col-sm-6">Description</label>
            <div class="col-sm-6">
              <input type="checkbox" formControlName="desc" id="desc_{{ flux.flux.id }}">
            </div>
          </div>

          <div class="form-group">
            <label for="nb_news_{{ flux.flux.id }}" class="control-label col-sm-6">Number of news</label>
            <div class="col-sm-6">
            <input type="number" min="1" formControlName="nb_news" id="nb_news_{{ flux.flux.id }}"
                   class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label for="color_{{ flux.flux.id }}" class="control-label col-sm-6">Color</label>
            <div class="col-sm-6">
              <!-- use http://valor-software.com/ng2-select/ Rich for color -->
              <select class="form-control" formControlName="color" id="color_{{ flux.flux.id }}">
                <option *ngFor="let color of colors" [value]="color.id">{{ color.name }}</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-12">
              <button [disabled]="!form.valid || loading" class="form-control btn btn-primary btn-xs pull-right">Save</button>
            </div>
          </div>
        </form>
      </span>

    </div>
  </div>

  <div class="panel-body">

    <div *ngFor="let item of (items | fluxItemsFilter: flux.flux.id)">
      <a href="{{ item.url }}" target="_blank">
        <span>{{ item.date  | date: 'dd/MM HH:mm' }} : </span>
        {{ item.title }}
      </a>
    </div>

  </div>
</div>
